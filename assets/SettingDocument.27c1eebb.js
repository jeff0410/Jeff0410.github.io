import{_ as e,g as l,l as t,r as s,o as a,c as o,e as u,a as d,b as n,u as c,v as m,t as i}from"./index.4ea34a6e.js";import{y as p,R as r,d as v,D as b,g as x,V as f,N as I}from"./firebase.8d6ec979.js";const V=e=>{if(null===e)return;return e.toLocaleString("ko-KR")},N={setup(){const e=p(v,"document"),s=l(),a=l(""),o=l(0),u=l(0),d=l({}),n=l([]),c=l([]);t((()=>{m()}));const m=async()=>{c.value=[],n.value=[];try{(await r(e)).docs.map((e=>{let l=e.data();l={...l,documentId:e.id},n.value.push(l)}));let l=0;n.value.forEach((e=>{e.documentIdx>l&&(l=e.documentIdx),c.value.push(e.documentStatus)})),u.value=l+1}catch(l){}};return{status:s,documentNm:a,documentPrice:o,documentList:n,dcs:c,createNewDocument:async()=>{let l=s.value+u.value;d.value={documentIdx:u.value,documentNm:a.value,documentPrice:o.value,documentStatus:l};await b(e,d.value);s.value="",m()},updateDocument:async(e,l)=>{const t=x(v,"document",e);try{await f(t,{documentStatus:l})}catch(s){}},deleteDocument:async e=>{const l=x(v,"document",e);try{await I(l)}catch(t){}m()},numberFormat:V}}},y={class:"grid"},h={class:"flex col-12"},g={class:"card col-4"},w=d("div",{class:"m-3"},[d("label",{for:"documentNm"},"문서명")],-1),D={class:"m-3"},U=d("div",{class:"m-3"},[d("label",{for:"documentNm"},"가격(원)")],-1),k={class:"m-3"},j=d("span",{class:"text-red"},"무료 발급문서는 숫자 0 입력",-1),C=d("div",{class:"m-3"},[d("span",{class:"text-teel"}," 신청가능 설정 ")],-1),P={class:"m-3"},S=d("label",{class:"ml-3 text-xl font-bold",for:"possible"},"신청가능",-1),L={class:"m-3"},R=d("label",{class:"ml-3 text-xl font-bold",for:"impossible"},"신청불가",-1),_=d("div",null,[d("hr")],-1),B={class:"flex justify-content-end align-items-end"},F=d("div",{class:"col-4 ml-5 text-xl"},[d("p",null,"메디패스 서비스를 통해 발급가능한"),d("p",null,"제증명서를 설정하세요"),d("br"),d("p",null,"유료 제증명서는 설정한 금액외"),d("p",null,"결제수수료가 추가 됩니다.")],-1),E={class:"grid"},K={class:"card"},T=d("div",{class:"m-3"},[d("label",{for:"documentNm"},"문서명")],-1),q={class:"m-3"},z={class:"text-xl font-bold"},A=d("div",{class:"m-3"},[d("label",{for:"documentNm"},"가격(원)")],-1),G={class:"m-3"},H={class:"text-xl font-bold"},J=d("div",{class:"m-3"},[d("span",{class:"text-teel"}," 신청가능 설정 ")],-1),M={class:"m-3"},O=["for"],Q={class:"m-3"},W=["for"],X=d("div",null,[d("hr")],-1),Y={class:"flex justify-content-end align-items-end"};const Z=e(N,[["render",function(e,l,t,p,r,v){const b=s("InputText"),x=s("InputNumber"),f=s("RadioButton"),I=s("Button");return a(),o("div",null,[u("1"),d("div",y,[d("div",h,[d("div",g,[w,d("div",D,[n(b,{id:"documentNm",class:"w-full text-xl",modelValue:p.documentNm,"onUpdate:modelValue":l[0]||(l[0]=e=>p.documentNm=e),placeholder:"이름을 입력하세요"},null,8,["modelValue"])]),U,d("div",k,[n(x,{inputId:"documentPrice",placeholder:"숫자만 입력",class:"w-full text-xl",modelValue:p.documentPrice,"onUpdate:modelValue":l[1]||(l[1]=e=>p.documentPrice=e)},null,8,["modelValue"]),j]),C,d("div",P,[n(f,{inputId:"possible",name:"possible",value:"possible",modelValue:p.status,"onUpdate:modelValue":l[2]||(l[2]=e=>p.status=e)},null,8,["modelValue"]),S]),d("div",L,[n(f,{inputId:"impossible",name:"impossible",value:"impossible",modelValue:p.status,"onUpdate:modelValue":l[3]||(l[3]=e=>p.status=e)},null,8,["modelValue"]),R]),_,d("div",B,[n(I,{label:"신규생성",class:"p-button-success p-button-text",onClick:p.createNewDocument},null,8,["onClick"])])]),F])]),u("1"),u("2"),d("div",E,[(a(!0),o(c,null,m(p.documentList,((e,l)=>(a(),o("div",{class:"col-4",key:l},[d("div",K,[T,d("div",q,[d("span",z,i(e.documentNm),1)]),A,d("div",G,[d("span",H,i(p.numberFormat(e.documentPrice)),1)]),J,d("div",M,[n(f,{inputId:"possible"+e.documentIdx,name:e.documentStatus,value:"possible"+e.documentIdx,modelValue:p.dcs[l],"onUpdate:modelValue":e=>p.dcs[l]=e},null,8,["inputId","name","value","modelValue","onUpdate:modelValue"]),d("label",{class:"ml-3 text-xl font-bold",for:"possible"+e.documentIdx},"신청가능",8,O)]),d("div",Q,[n(f,{inputId:"impossible"+e.documentIdx,name:"impossible",value:"impossible"+e.documentIdx,modelValue:p.dcs[l],"onUpdate:modelValue":e=>p.dcs[l]=e},null,8,["inputId","value","modelValue","onUpdate:modelValue"]),d("label",{class:"ml-3 text-xl font-bold",for:"impossible"+e.documentIdx},"신청불가",8,W)]),X,d("div",Y,[n(I,{label:"삭제",class:"p-button-danger p-button-text",onClick:l=>p.deleteDocument(e.documentId)},null,8,["onClick"]),n(I,{label:"변경",class:"p-button-success p-button-text",onClick:t=>p.updateDocument(e.documentId,p.dcs[l])},null,8,["onClick"])])])])))),128))]),u("2")])}],["__file","/Users/jeff/Documents/jeff/test/sample/started/my-vue-app/src/views/test/SettingDocument.vue"]]);export{Z as default};
