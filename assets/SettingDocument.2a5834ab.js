import{_ as e,b as l,h as t,r as s,o as a,c as o,j as d,f as u,a as n,q as c,s as m,k as i}from"./index.3b79845b.js";import{y as p,R as r,d as v,D as b,g as x,V as f,N as I}from"./firebase.45d4d2b9.js";const V=e=>{if(null===e)return;return e.toLocaleString("ko-KR")},N={setup(){const e=p(v,"document"),s=l(),a=l(""),o=l(0),d=l(0),u=l({}),n=l([]),c=l([]);t((()=>{m()}));const m=async()=>{let l=[],t=[];try{(await r(e)).docs.map((e=>{let l=e.data();l={...l,documentId:e.id},t.push(l)}));let s=0;t.forEach((e=>{e.documentIdx>s&&(s=e.documentIdx),l.push(e.documentStatus)})),d.value=s+1,c.value=l,n.value=t}catch(s){}},i=()=>{d.value=0,a.value="",o.value=0,s.value=""};return{status:s,documentNm:a,documentPrice:o,documentList:n,dcs:c,createNewDocument:async()=>{let l=s.value+d.value;u.value={documentIdx:d.value,documentNm:a.value,documentPrice:o.value,documentStatus:l};await b(e,u.value);s.value="",m(),i()},updateDocument:async(e,l)=>{const t=x(v,"document",e);try{await f(t,{documentStatus:l})}catch(s){}},deleteDocument:async e=>{const l=x(v,"document",e);try{await I(l)}catch(t){}m()},numberFormat:V}}},h={class:"grid"},y={class:"flex col-12"},k={class:"card col-4"},w=u("div",{class:"m-3"},[u("label",{for:"documentNm"},"문서명")],-1),D={class:"m-3"},U=u("div",{class:"m-3"},[u("label",{for:"documentNm"},"가격(원)")],-1),g={class:"m-3"},j=u("span",{class:"text-red"},"무료 발급문서는 숫자 0 입력",-1),C=u("div",{class:"m-3"},[u("span",{class:"text-teel"}," 신청가능 설정 ")],-1),P={class:"m-3"},S=u("label",{class:"ml-3 text-xl font-bold",for:"possible"},"신청가능",-1),_={class:"m-3"},L=u("label",{class:"ml-3 text-xl font-bold",for:"impossible"},"신청불가",-1),R=u("div",null,[u("hr")],-1),B={class:"flex justify-content-end align-items-end"},F=u("div",{class:"col-4 ml-5 text-xl"},[u("p",null,"메디패스 서비스를 통해 발급가능한"),u("p",null,"제증명서를 설정하세요"),u("br"),u("p",null,"유료 제증명서는 설정한 금액외"),u("p",null,"결제수수료가 추가 됩니다.")],-1),q={class:"grid"},E={class:"card"},K=u("div",{class:"m-3"},[u("label",{for:"documentNm"},"문서명")],-1),T={class:"m-3"},z={class:"text-xl font-bold"},A=u("div",{class:"m-3"},[u("label",{for:"documentNm"},"가격(원)")],-1),G={class:"m-3"},H={class:"text-xl font-bold"},J=u("div",{class:"m-3"},[u("span",{class:"text-teel"}," 신청가능 설정 ")],-1),M={class:"m-3"},O=["for"],Q={class:"m-3"},W=["for"],X=u("div",null,[u("hr")],-1),Y={class:"flex justify-content-end align-items-end"};const Z=e(N,[["render",function(e,l,t,p,r,v){const b=s("InputText"),x=s("InputNumber"),f=s("RadioButton"),I=s("Button");return a(),o("div",null,[d("1"),u("div",h,[u("div",y,[u("div",k,[w,u("div",D,[n(b,{id:"documentNm",class:"w-full text-xl",modelValue:p.documentNm,"onUpdate:modelValue":l[0]||(l[0]=e=>p.documentNm=e),placeholder:"이름을 입력하세요"},null,8,["modelValue"])]),U,u("div",g,[n(x,{inputId:"documentPrice",placeholder:"숫자만 입력",class:"w-full text-xl",modelValue:p.documentPrice,"onUpdate:modelValue":l[1]||(l[1]=e=>p.documentPrice=e)},null,8,["modelValue"]),j]),C,u("div",P,[n(f,{inputId:"possible",name:"possible",value:"possible",modelValue:p.status,"onUpdate:modelValue":l[2]||(l[2]=e=>p.status=e)},null,8,["modelValue"]),S]),u("div",_,[n(f,{inputId:"impossible",name:"impossible",value:"impossible",modelValue:p.status,"onUpdate:modelValue":l[3]||(l[3]=e=>p.status=e)},null,8,["modelValue"]),L]),R,u("div",B,[n(I,{label:"신규생성",class:"p-button-success p-button-text",onClick:p.createNewDocument},null,8,["onClick"])])]),F])]),d("1"),d("2"),u("div",q,[(a(!0),o(c,null,m(p.documentList,((e,l)=>(a(),o("div",{class:"col-4",key:l},[u("div",E,[K,u("div",T,[u("span",z,i(e.documentNm),1)]),A,u("div",G,[u("span",H,i(p.numberFormat(e.documentPrice)),1)]),J,u("div",M,[n(f,{inputId:"possible"+e.documentIdx,name:e.documentStatus,value:"possible"+e.documentIdx,modelValue:p.dcs[l],"onUpdate:modelValue":e=>p.dcs[l]=e},null,8,["inputId","name","value","modelValue","onUpdate:modelValue"]),u("label",{class:"ml-3 text-xl font-bold",for:"possible"+e.documentIdx},"신청가능",8,O)]),u("div",Q,[n(f,{inputId:"impossible"+e.documentIdx,name:"impossible",value:"impossible"+e.documentIdx,modelValue:p.dcs[l],"onUpdate:modelValue":e=>p.dcs[l]=e},null,8,["inputId","value","modelValue","onUpdate:modelValue"]),u("label",{class:"ml-3 text-xl font-bold",for:"impossible"+e.documentIdx},"신청불가",8,W)]),X,u("div",Y,[n(I,{label:"삭제",class:"p-button-danger p-button-text",onClick:l=>p.deleteDocument(e.documentId)},null,8,["onClick"]),n(I,{label:"변경",class:"p-button-success p-button-text",onClick:t=>p.updateDocument(e.documentId,p.dcs[l])},null,8,["onClick"])])])])))),128))]),d("2")])}],["__file","/Users/jeff/Documents/jeff/dev/non_linked_dev/src/views/home/SettingDocument.vue"]]);export{Z as default};
