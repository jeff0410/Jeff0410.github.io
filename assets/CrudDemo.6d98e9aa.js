import{_ as e,F as t,r as l,o as a,c as o,a as s,b as i,w as d,d as r,t as c,n as u,e as n,p,f as m}from"./index.7d1178ee.js";class h{getProductsSmall(){return fetch("data/products-small.json").then((e=>e.json())).then((e=>e.data))}getProducts(){return fetch("data/products.json").then((e=>e.json())).then((e=>e.data))}getProductsWithOrdersSmall(){return fetch("data/products-orders-small.json").then((e=>e.json())).then((e=>e.data))}}const g={data:()=>({products:null,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,product:{},selectedProducts:null,filters:{},submitted:!1,statuses:[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]}),productService:null,created(){this.productService=new h,this.initFilters()},mounted(){this.productService.getProducts().then((e=>this.products=e))},methods:{formatCurrency(e){if(e)return e.toLocaleString("en-US",{style:"currency",currency:"USD"})},openNew(){this.product={},this.submitted=!1,this.productDialog=!0},hideDialog(){this.productDialog=!1,this.submitted=!1},saveProduct(){this.submitted=!0,this.product.name.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.$toast.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.productDialog=!1,this.product={})},editProduct(e){this.product={...e},this.productDialog=!0},confirmDeleteProduct(e){this.product=e,this.deleteProductDialog=!0},deleteProduct(){this.products=this.products.filter((e=>e.id!==this.product.id)),this.deleteProductDialog=!1,this.product={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(e){let t=-1;for(let l=0;l<this.products.length;l++)if(this.products[l].id===e){t=l;break}return t},createId(){let e="";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=0;l<5;l++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.products=this.products.filter((e=>!this.selectedProducts.includes(e))),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},initFilters(){this.filters={global:{value:null,matchMode:t.CONTAINS}}}}},y=e=>(p("data-v-b80d2c4f"),e=e(),m(),e),f={class:"grid"},b={class:"col-12"},v={class:"card"},S={class:"my-2"},P={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},C=y((()=>s("h5",{class:"m-0"},"Manage Products",-1))),w={class:"block mt-2 md:mt-0 p-input-icon-left"},k=y((()=>s("i",{class:"pi pi-search"},null,-1))),D=y((()=>s("span",{class:"p-column-title"},"Code",-1))),V=y((()=>s("span",{class:"p-column-title"},"Name",-1))),x=y((()=>s("span",{class:"p-column-title"},"Image",-1))),U=["src","alt"],I=y((()=>s("span",{class:"p-column-title"},"Price",-1))),_=y((()=>s("span",{class:"p-column-title"},"Category",-1))),N=y((()=>s("span",{class:"p-column-title"},"Rating",-1))),L=y((()=>s("span",{class:"p-column-title"},"Status",-1))),T=["src","alt"],j={class:"field"},O=y((()=>s("label",{for:"name"},"Name",-1))),F={key:0,class:"p-invalid"},R={class:"field"},q=y((()=>s("label",{for:"description"},"Description",-1))),A={class:"field"},M=y((()=>s("label",{for:"inventoryStatus",class:"mb-3"},"Inventory Status",-1))),K={key:0},B={key:1},$={key:2},z={class:"field"},E=y((()=>s("label",{class:"mb-3"},"Category",-1))),W={class:"formgrid grid"},Y={class:"field-radiobutton col-6"},Q=y((()=>s("label",{for:"category1"},"Accessories",-1))),G={class:"field-radiobutton col-6"},H=y((()=>s("label",{for:"category2"},"Clothing",-1))),J={class:"field-radiobutton col-6"},X=y((()=>s("label",{for:"category3"},"Electronics",-1))),Z={class:"field-radiobutton col-6"},ee=y((()=>s("label",{for:"category4"},"Fitness",-1))),te={class:"formgrid grid"},le={class:"field col"},ae=y((()=>s("label",{for:"price"},"Price",-1))),oe={class:"field col"},se=y((()=>s("label",{for:"quantity"},"Quantity",-1))),ie={class:"flex align-items-center justify-content-center"},de=y((()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1))),re={key:0},ce=r("Are you sure you want to delete "),ue=r("?"),ne={class:"flex align-items-center justify-content-center"},pe=y((()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1))),me={key:0};const he=e(g,[["render",function(e,t,p,m,h,g){const y=l("Toast"),he=l("Button"),ge=l("FileUpload"),ye=l("Toolbar"),fe=l("InputText"),be=l("Column"),ve=l("Rating"),Se=l("DataTable"),Pe=l("Textarea"),Ce=l("Dropdown"),we=l("RadioButton"),ke=l("InputNumber"),De=l("Dialog");return a(),o("div",f,[s("div",b,[s("div",v,[i(y),i(ye,{class:"mb-4"},{start:d((()=>[s("div",S,[i(he,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:g.openNew},null,8,["onClick"]),i(he,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:g.confirmDeleteSelected,disabled:!h.selectedProducts||!h.selectedProducts.length},null,8,["onClick","disabled"])])])),end:d((()=>[i(ge,{mode:"basic",accept:"image/*",maxFileSize:1e6,label:"Import",chooseLabel:"Import",class:"mr-2 inline-block"}),i(he,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:t[0]||(t[0]=e=>g.exportCSV(e))})])),_:1}),i(Se,{ref:"dt",value:h.products,selection:h.selectedProducts,"onUpdate:selection":t[2]||(t[2]=e=>h.selectedProducts=e),dataKey:"id",paginator:!0,rows:10,filters:h.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{header:d((()=>[s("div",P,[C,s("span",w,[k,i(fe,{modelValue:h.filters.global.value,"onUpdate:modelValue":t[1]||(t[1]=e=>h.filters.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])])),default:d((()=>[i(be,{selectionMode:"multiple",headerStyle:"width: 3rem"}),i(be,{field:"code",header:"Code",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d((e=>[D,r(" "+c(e.data.code),1)])),_:1}),i(be,{field:"name",header:"Name",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d((e=>[V,r(" "+c(e.data.name),1)])),_:1}),i(be,{header:"Image",headerStyle:"width:14%; min-width:10rem;"},{body:d((e=>[x,s("img",{src:"images/product/"+e.data.image,alt:e.data.image,class:"shadow-2",width:"100"},null,8,U)])),_:1}),i(be,{field:"price",header:"Price",sortable:!0,headerStyle:"width:14%; min-width:8rem;"},{body:d((e=>[I,r(" "+c(g.formatCurrency(e.data.price)),1)])),_:1}),i(be,{field:"category",header:"Category",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d((e=>[_,r(" "+c(g.formatCurrency(e.data.category)),1)])),_:1}),i(be,{field:"rating",header:"Reviews",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d((e=>[N,i(ve,{modelValue:e.data.rating,readonly:!0,cancel:!1},null,8,["modelValue"])])),_:1}),i(be,{field:"inventoryStatus",header:"Status",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d((e=>[L,s("span",{class:u("product-badge status-"+(e.data.inventoryStatus?e.data.inventoryStatus.toLowerCase():""))},c(e.data.inventoryStatus),3)])),_:1}),i(be,{headerStyle:"min-width:10rem;"},{body:d((e=>[i(he,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:t=>g.editProduct(e.data)},null,8,["onClick"]),i(he,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:t=>g.confirmDeleteProduct(e.data)},null,8,["onClick"])])),_:1})])),_:1},8,["value","selection","filters"]),i(De,{visible:h.productDialog,"onUpdate:visible":t[12]||(t[12]=e=>h.productDialog=e),style:{width:"450px"},header:"Product Details",modal:!0,class:"p-fluid"},{footer:d((()=>[i(he,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:g.hideDialog},null,8,["onClick"]),i(he,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:g.saveProduct},null,8,["onClick"])])),default:d((()=>[h.product.image?(a(),o("img",{key:0,src:"images/product/"+h.product.image,alt:h.product.image,width:"150",class:"mt-0 mx-auto mb-5 block shadow-2"},null,8,T)):n("v-if",!0),s("div",j,[O,i(fe,{id:"name",modelValue:h.product.name,"onUpdate:modelValue":t[3]||(t[3]=e=>h.product.name=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:u({"p-invalid":h.submitted&&!h.product.name})},null,8,["modelValue","class"]),h.submitted&&!h.product.name?(a(),o("small",F,"Name is required.")):n("v-if",!0)]),s("div",R,[q,i(Pe,{id:"description",modelValue:h.product.description,"onUpdate:modelValue":t[4]||(t[4]=e=>h.product.description=e),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])]),s("div",A,[M,i(Ce,{id:"inventoryStatus",modelValue:h.product.inventoryStatus,"onUpdate:modelValue":t[5]||(t[5]=e=>h.product.inventoryStatus=e),options:h.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:d((e=>[e.value&&e.value.value?(a(),o("div",K,[s("span",{class:u("product-badge status-"+e.value.value)},c(e.value.label),3)])):e.value&&!e.value.value?(a(),o("div",B,[s("span",{class:u("product-badge status-"+e.value.toLowerCase())},c(e.value),3)])):(a(),o("span",$,c(e.placeholder),1))])),_:1},8,["modelValue","options"])]),s("div",z,[E,s("div",W,[s("div",Y,[i(we,{id:"category1",name:"category",value:"Accessories",modelValue:h.product.category,"onUpdate:modelValue":t[6]||(t[6]=e=>h.product.category=e)},null,8,["modelValue"]),Q]),s("div",G,[i(we,{id:"category2",name:"category",value:"Clothing",modelValue:h.product.category,"onUpdate:modelValue":t[7]||(t[7]=e=>h.product.category=e)},null,8,["modelValue"]),H]),s("div",J,[i(we,{id:"category3",name:"category",value:"Electronics",modelValue:h.product.category,"onUpdate:modelValue":t[8]||(t[8]=e=>h.product.category=e)},null,8,["modelValue"]),X]),s("div",Z,[i(we,{id:"category4",name:"category",value:"Fitness",modelValue:h.product.category,"onUpdate:modelValue":t[9]||(t[9]=e=>h.product.category=e)},null,8,["modelValue"]),ee])])]),s("div",te,[s("div",le,[ae,i(ke,{id:"price",modelValue:h.product.price,"onUpdate:modelValue":t[10]||(t[10]=e=>h.product.price=e),mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue"])]),s("div",oe,[se,i(ke,{id:"quantity",modelValue:h.product.quantity,"onUpdate:modelValue":t[11]||(t[11]=e=>h.product.quantity=e),integeronly:""},null,8,["modelValue"])])])])),_:1},8,["visible"]),i(De,{visible:h.deleteProductDialog,"onUpdate:visible":t[14]||(t[14]=e=>h.deleteProductDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d((()=>[i(he,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[13]||(t[13]=e=>h.deleteProductDialog=!1)}),i(he,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:g.deleteProduct},null,8,["onClick"])])),default:d((()=>[s("div",ie,[de,h.product?(a(),o("span",re,[ce,s("b",null,c(h.product.name),1),ue])):n("v-if",!0)])])),_:1},8,["visible"]),i(De,{visible:h.deleteProductsDialog,"onUpdate:visible":t[16]||(t[16]=e=>h.deleteProductsDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d((()=>[i(he,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[15]||(t[15]=e=>h.deleteProductsDialog=!1)}),i(he,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:g.deleteSelectedProducts},null,8,["onClick"])])),default:d((()=>[s("div",ne,[pe,h.product?(a(),o("span",me,"Are you sure you want to delete the selected products?")):n("v-if",!0)])])),_:1},8,["visible"])])])])}],["__scopeId","data-v-b80d2c4f"],["__file","/Users/jeff/Documents/jeff/test/sample/started/my-vue-app/src/pages/CrudDemo.vue"]]);export{he as default};
