import{_ as e,b as l,h as t,r as a,o as s,c as n,j as u,f as o,a as c,n as d,s as i,v as m,w as p,k as v}from"./index.85378441.js";import{D as r,y as b,R as f,n as x,d as I,a as y,g as V,V as C,N as h}from"./DataInput.541a4c04.js";const w={components:{DataInput:r},setup(){const e=b(I,"document"),a=l(),s=l(""),n=l(""),u=l(0),o=l({}),c=l([]),d=l([]),i=l(!0),m=l(["w-full","p-invalid"]),p=l(0),v=l(""),r=l(!1);t((()=>{w()}));const w=async()=>{let l=[],t=[];try{(await f(e)).docs.map((e=>{let l=e.data();l={...l,documentId:e.id},t.push(l)}));let a=0;t.forEach((e=>{e.documentIdx>a&&(a=e.documentIdx),l.push(e.documentStatus)})),u.value=a+1,d.value=l,c.value=t}catch(a){}},k=()=>{if(""===s.value)return void(p.value=1);if(""===n.value)return void(p.value=2);if(void 0===a.value||null===a.value||""===a.value)return void(p.value=3);let e=a.value+u.value,l=n.value.replace(/(,)/g,"");o.value={documentIdx:u.value,documentNm:s.value,documentPrice:l,documentStatus:e},r.value=!0,p.value=0,i.value=!1},D=()=>{u.value=0,n.value="",s.value="",a.value="",i.value=!0,v.value="",r.value=!1};return{status:a,documentNm:s,documentPrice:n,documentList:c,dcs:d,inputClass:m,emptyInput:p,dialogHeader:v,isComfirm:r,comfirm:()=>{k(),v.value="발급문서 생성 확인"},createNewDocument:async()=>{if(!i.value)try{await y(e,o.value)}catch(l){}w(),D()},updateDocument:async(e,l)=>{const t=V(I,"document",e);try{await C(t,{documentStatus:l})}catch(a){}},deleteDocument:async e=>{const l=V(I,"document",e);try{await h(l)}catch(t){}w()},numberFormat:x,resetData:D}}},k={class:"grid"},D={class:"flex col-12"},g={class:"card col-4"},N=o("div",{class:"m-3"},[o("label",{for:"documentNm"},"문서명")],-1),U={class:"m-3"},j=o("div",{class:"m-3"},[o("label",{for:"documentNm"},"가격(원)")],-1),P={class:"m-3"},_=o("span",{class:"text-red"},"무료 발급문서는 숫자 0 입력",-1),S=o("div",{class:"m-3"},[o("span",{class:"text-teel"}," 신청가능 설정 ")],-1),B={class:"m-3"},F=o("label",{class:"ml-3 text-xl font-bold",for:"possible"},"신청가능",-1),H={class:"m-3"},L=o("label",{class:"ml-3 text-xl font-bold",for:"impossible"},"신청불가",-1),R=o("div",null,[o("hr")],-1),T={class:"flex justify-content-end align-items-end"},E=o("div",{class:"col-4 ml-5 text-xl"},[o("p",null,"메디패스 서비스를 통해 발급가능한"),o("p",null,"제증명서를 설정하세요"),o("br"),o("p",null,"유료 제증명서는 설정한 금액외"),o("p",null,"결제수수료가 추가 됩니다.")],-1),q={class:"grid"},z={class:"card"},A=o("div",{class:"m-3"},[o("label",{for:"documentNm"},"문서명")],-1),G={class:"m-3"},J={class:"text-xl font-bold"},K=o("div",{class:"m-3"},[o("label",{for:"documentNm"},"가격(원)")],-1),M={class:"m-3"},O={class:"text-xl font-bold"},Q=o("div",{class:"m-3"},[o("span",{class:"text-teel"}," 신청가능 설정 ")],-1),W={class:"m-3"},X=["for"],Y={class:"m-3"},Z=["for"],$=o("div",null,[o("hr")],-1),ee={class:"flex justify-content-end align-items-end"},le={class:"createUser"},te={class:"flex align-items-center justify-content-between"},ae=o("span",null,"문서명 : ",-1),se={class:"flex align-items-center justify-content-between"},ne=o("span",null,"가격 : ",-1),ue={class:"flex align-items-center justify-content-between"},oe=o("span",null,"신청가능여부 : ",-1);const ce=e(w,[["render",function(e,l,t,r,b,f){const x=a("DataInput"),I=a("RadioButton"),y=a("Button"),V=a("Dialog");return s(),n("div",null,[u("1"),o("div",k,[o("div",D,[o("div",g,[N,o("div",U,[c(x,{placeholderInfo:"이름을 입력하세요",inputClass:1===r.emptyInput?r.inputClass:["w-full"],modelValue:r.documentNm,id:"documentNm",inputType:"name","onUpdate:modelValue":l[0]||(l[0]=e=>r.documentNm=e)},null,8,["inputClass","modelValue"])]),j,o("div",P,[c(x,{placeholderInfo:"숫자만 입력 하세요",inputClass:2===r.emptyInput?r.inputClass:["w-full"],modelValue:r.documentPrice,id:"documentPrice",inputType:"price","onUpdate:modelValue":l[1]||(l[1]=e=>r.documentPrice=e)},null,8,["inputClass","modelValue"]),_]),S,o("div",B,[c(I,{class:d({"p-invalid":3===r.emptyInput}),inputId:"possible",name:"possible",value:"possible",modelValue:r.status,"onUpdate:modelValue":l[2]||(l[2]=e=>r.status=e)},null,8,["class","modelValue"]),F]),o("div",H,[c(I,{class:d({"p-invalid":3===r.emptyInput}),inputId:"impossible",name:"impossible",value:"impossible",modelValue:r.status,"onUpdate:modelValue":l[3]||(l[3]=e=>r.status=e)},null,8,["class","modelValue"]),L]),R,o("div",T,[c(y,{label:"신규생성",class:"p-button-success p-button-text",onClick:r.comfirm},null,8,["onClick"])])]),E])]),u("1"),u("2"),o("div",q,[(s(!0),n(i,null,m(r.documentList,((e,l)=>(s(),n("div",{class:"col-4",key:l},[o("div",z,[A,o("div",G,[o("span",J,v(e.documentNm),1)]),K,o("div",M,[o("span",O,v(r.numberFormat(e.documentPrice)),1)]),Q,o("div",W,[c(I,{inputId:"possible"+e.documentIdx,name:e.documentStatus,value:"possible"+e.documentIdx,modelValue:r.dcs[l],"onUpdate:modelValue":e=>r.dcs[l]=e},null,8,["inputId","name","value","modelValue","onUpdate:modelValue"]),o("label",{class:"ml-3 text-xl font-bold",for:"possible"+e.documentIdx},"신청가능",8,X)]),o("div",Y,[c(I,{inputId:"impossible"+e.documentIdx,name:"impossible",value:"impossible"+e.documentIdx,modelValue:r.dcs[l],"onUpdate:modelValue":e=>r.dcs[l]=e},null,8,["inputId","value","modelValue","onUpdate:modelValue"]),o("label",{class:"ml-3 text-xl font-bold",for:"impossible"+e.documentIdx},"신청불가",8,Z)]),$,o("div",ee,[c(y,{label:"삭제",class:"p-button-danger p-button-text",onClick:l=>r.deleteDocument(e.documentId)},null,8,["onClick"]),c(y,{label:"변경",class:"p-button-success p-button-text",onClick:t=>r.updateDocument(e.documentId,r.dcs[l])},null,8,["onClick"])])])])))),128))]),u("2"),c(V,{header:r.dialogHeader,closable:!1,visible:r.isComfirm,"onUpdate:visible":l[4]||(l[4]=e=>r.isComfirm=e),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"250px"},modal:!0},{footer:p((()=>[c(y,{label:"취소",icon:"pi pi-times",class:"p-button-text",onClick:r.resetData},null,8,["onClick"]),c(y,{label:"생성",icon:"pi pi-check",class:"p-button-text",onClick:r.createNewDocument,autofocus:""},null,8,["onClick"])])),default:p((()=>[o("div",le,[o("div",te,[ae,o("span",null,v(r.documentNm),1)]),o("div",se,[ne,o("span",null,v(r.documentPrice),1)]),o("div",ue,[oe,o("span",null,v("possible"===r.status?"신청가능":"신청불가"),1)])])])),_:1},8,["header","visible"])])}],["__file","/Users/jeff/Documents/jeff/dev/non_linked_dev/src/views/home/index/SettingDocument.vue"]]);export{ce as default};
